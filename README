# -*- mode: org -*-
#+TITLE: mill: edit and convert wordnet data in human-readable text format

*this is a work in progress -- it is incomplete, and things will
change*

This tool will eventually produce the data found in
https://github.com/own-pt/own-en/.

* Data format
- order matters (because we also want to print to this format after
  doing modifications automatically)
  - words should appear in lexicographical order
  - relation statements come last, also in lexicographical order

#+BEGIN_EXAMPLE
w: abandoned_ship
w: derelict drf derelict 1
d: a ship abandoned on the high seas
e: we found an abandoned ship while diving
hyper: ship
#+END_EXAMPLE


* Configuration files
The tooling in this repository assumes a few configuration files in
TSV format.


* Installation
** Python
- install python 3
- install the libraries in =requirements.txt=
  : pip install -r requirements.txt


** Haskell
- [[https://docs.haskellstack.org/en/stable/README/][install stack]]
- run
  : stack install


* Features
** RDF -> text
See =wn2text.py --help=. This repository contains the necessary
configuration files, and you can download the input RDF file from
https://github.com/own-pt/openWordnet-PT.

** text -> JSON
See
: mill export --help

** text -> RDF
See =wn2text.py --help=. The input JSON is the one produced by the
=mill export= command.

** Validate wordnet data
see
: mill validate --help

Notice that validation occurs in steps; some validation steps can only
be performed after the previous ones have completed without
errors. This may cause an increase in the number of errors after
errors are fixed (these errors were already there but were only
detected after the previous validation step was performed). For
example, we only check if synsets are sorted after checking that their
words are themselves sorted (if they are not, there's not point in
checking if the synsets are sorted).


* Why the name mill?
=mill= aims to fulfill the same role that [[https://wordnet.princeton.edu/documentation/grind1wn][grind]] once did. It's been
named =mill= because it's a synonym of =grind= and is also a prefix of
[[https://en.wikipedia.org/wiki/George_Armitage_Miller][Miller]].
